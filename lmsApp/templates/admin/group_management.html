{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}{{ title }}{% endblock %}

{% block content %}

<div class="bg-gray-50 min-h-screen py-12 px-4 sm:px-6 lg:px-8 font-sans">
    <div class="max-w-4xl mx-auto bg-white p-8 md:p-12 rounded-3xl shadow-2xl">
        <!-- Page Header -->
        <div class="mb-8 border-b-2 border-gray-100 pb-4">
            <h1 class="text-3xl md:text-4xl font-extrabold text-gray-900 flex items-center">
                {% if group %}
                    <i class="fas fa-edit text-indigo-600 mr-4"></i> {{ title }}
                {% else %}
                    <i class="fas fa-user-plus text-indigo-600 mr-4"></i> {{ title }}
                {% endif %}
            </h1>
        </div>

        <!-- Messages from Django -->
        {% if messages %}
            {% for message in messages %}
                <div class="p-4 mb-6 text-sm rounded-xl {% if message.tags == 'success' %}bg-green-100 text-green-700{% else %}bg-red-100 text-red-700{% endif %} flex items-center shadow-md">
                    <i class="fas {% if message.tags == 'success' %}fa-check-circle{% else %}fa-exclamation-triangle{% endif %} mr-3"></i>
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}

        <!-- Crispy Form -->
        <form method="post" class="space-y-8">
            {% csrf_token %}
            <!-- This crispy filter now automatically renders the entire form with the layout defined in forms.py -->
            {% crispy form %}
        </form>
    </div>
</div>
{% endblock %}